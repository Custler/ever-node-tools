[package]
build = 'common/build/build.rs'
edition = '2021'
name = 'ton-node-tools'
version = '0.1.301'

[[bin]]
name = 'adnl_resolve'
path = 'bin/adnl_resolve.rs'

[[bin]]
name = 'adnl_ping'
path = 'bin/adnl_ping.rs'

[[bin]]
name = 'dhtscan'
path = 'bin/dhtscan.rs'

[[bin]]
name = 'gendht'
path = 'bin/gendht.rs'

[[bin]]
name = 'console'
path = 'bin/console.rs'

[[bin]]
name = 'keygen'
path = 'bin/keygen.rs'

[[bin]]
name = 'keyid'
path = 'bin/keyid.rs'

[[bin]]
name = 'print'
path = 'bin/print.rs'

[[bin]]
name = 'zerostate'
path = 'bin/zerostate.rs'

[dependencies]
base64 = '0.13'
clap = '2.33.3'
failure = '0.1.6'
hex = '0.4.2'
log = '0.4.11'
log4rs = '1.2'
serde = '1.0.105'
serde_json = '1.0.56'
shell-words = '1.0.0'
adnl = { features = [ 'client' ], git = 'https://github.com/tonlabs/ever-adnl', tag = '0.7.131' }
dht = { git = 'https://github.com/tonlabs/ever-dht', tag = '0.5.141' }
ever-crypto = { git = 'https://github.com/tonlabs/ever-crypto', branch = 'consensus-updates' }
overlay = { git = 'https://github.com/tonlabs/ever-overlay', branch = 'consensus-updates' }
tokio = { features = [ 'rt-multi-thread' ], version = '1.5.0' }
ton_api = { git = 'https://github.com/tonlabs/ever-tl', package = 'ton_api', branch = 'consensus-updates' }
ton_block = { git = 'https://github.com/tonlabs/ever-block', branch = 'consensus-updates' }
ton_block_json = { git = 'https://github.com/tonlabs/ever-block-json.git', branch = 'consensus-updates' }
ton_node = { git = 'https://github.com/tonlabs/ever-node', branch = 'consensus-updates' }
ton_types = { git = 'https://github.com/tonlabs/ton-labs-types', tag = '1.12.7' }
ton_abi = { git = 'https://github.com/tonlabs/ton-labs-abi.git', tag = '2.3.65' }
num-bigint = '0.4'

[dev-dependencies]
async-trait = '0.1'
lockfree = { git = 'https://github.com/tonlabs/lockfree.git' }

[features]
default = [ 'telemetry' ]
export_key = [ 'ever-crypto/export_key' ]
telemetry = [ 'adnl/telemetry', 'dht/telemetry', 'overlay/telemetry' ]
workchains = [ 'ton_node/workchains', 'ever-crypto/export_key' ]

[patch.'https://github.com/tonlabs/ever-types.git']
ton_types = { git = 'https://git@github.com:443/tonlabs/ever-types.git', tag = '1.12.7' }

[patch.'https://github.com/tonlabs/ton-labs-types.git']
ton_types = { git = 'https://git@github.com:443/tonlabs/ever-types.git', tag = '1.12.7' }

[patch.'https://github.com/tonlabs/ever-block.git']
ton_block = { git = 'https://github.com:443//tonlabs/ever-block.git', branch = 'consensus-updates' }

[patch.'https://github.com/tonlabs/ton-labs-block.git']
ton_block = { git = 'https://github.com:443//tonlabs/ever-block.git', branch = 'consensus-updates' }

[patch.'https://github.com/tonlabs/ever-block-json.git']
ton_block_json = { git = 'https://github.com:443//tonlabs/ever-block-json', branch = 'consensus-updates' }

[patch.'https://github.com/tonlabs/ever-tl.git']
ton_api = { git = 'https://github.com:443//tonlabs/ever-tl', package = 'ton_api', branch = 'consensus-updates' }

[patch.'https://github.com/tonlabs/ever-crypto']
ever-crypto = { git = 'https://github.com:443//tonlabs/ever-crypto', branch = 'consensus-updates' }

[patch.'https://github.com/tonlabs/ever-labs-crypto']
ever-crypto = { git = 'https://github.com:443//tonlabs/ever-crypto', branch = 'consensus-updates' }

[patch.'https://github.com/tonlabs/ever-vm.git']
ton_vm = { git = 'https://github.com:443//tonlabs/ever-vm', branch = 'consensus-updates' }

[patch.'https://github.com/tonlabs/ever-adnl.git']
adnl = { git = 'https://github.com:443//tonlabs/ever-adnl', tag = '0.7.131' }

[patch.'https://github.com/tonlabs/ton-labs-adnl.git']
adnl = { git = 'https://github.com:443//tonlabs/ever-adnl', tag = '0.7.131' }

[patch.'https://github.com/tonlabs/ever-rldp.git']
rldp = { git = 'https://github.com:443//tonlabs/ever-rldp', tag = '0.7.125' }

[patch.'https://github.com/tonlabs/ton-labs-rldp.git']
rldp = { git = 'https://github.com:443//tonlabs/ever-rldp', tag = '0.7.125' }

[patch.'https://github.com/tonlabs/ever-node.git']
ton_node = { git = 'https://github.com:443//tonlabs/ever-node', branch = 'consensus-updates' }
